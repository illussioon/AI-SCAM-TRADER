<template>
  <nav class="bottom-menu">
    <div class="menu-container">
      <div class="menu-grid">
        <!-- Главная -->
        <button type="button" class="menu-button" @click="navigateHome">
          <svg
            viewBox="0 0 28 28"
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="none"
            :class="activeTab === 'home' ? 'text-primary' : 'text-inactive'"
          >
            <rect
              width="28"
              height="28"
              x="0"
              y="0"
              fill="rgb(255,255,255)"
              fill-opacity="0"
            ></rect>
            <g>
              <path
                d="M13.3815 4.4813C13.5456 4.31744 13.768 4.2254 13.9999 4.2254C14.2317 4.2254 14.4541 4.31744 14.6182 4.4813L24.7565 14.6196C24.8373 14.7032 24.9339 14.7698 25.0406 14.8156C25.1474 14.8614 25.2622 14.8855 25.3784 14.8864C25.4946 14.8874 25.6098 14.8652 25.7173 14.8211C25.8248 14.7771 25.9225 14.7121 26.0046 14.6299C26.0867 14.5477 26.1517 14.45 26.1956 14.3424C26.2395 14.2349 26.2616 14.1196 26.2606 14.0034C26.2595 13.8873 26.2353 13.7725 26.1894 13.6657C26.1435 13.559 26.0768 13.4625 25.9932 13.3818L15.856 3.24347C15.6123 2.99971 15.3229 2.80635 15.0044 2.67443C14.6859 2.54251 14.3446 2.47461 13.9999 2.47461C13.6551 2.47461 13.3138 2.54251 12.9953 2.67443C12.6768 2.80635 12.3874 2.99971 12.1437 3.24347L2.00535 13.3818C1.92182 13.4626 1.85521 13.5591 1.8094 13.6659C1.76359 13.7727 1.73951 13.8875 1.73855 14.0037C1.7376 14.1199 1.75979 14.2351 1.80384 14.3426C1.84789 14.4501 1.9129 14.5478 1.9951 14.6299C2.07729 14.712 2.17502 14.7769 2.28257 14.8209C2.39013 14.8648 2.50536 14.8869 2.62154 14.8858C2.73772 14.8848 2.85252 14.8606 2.95926 14.8147C3.06599 14.7688 3.16251 14.7021 3.24319 14.6185L13.3815 4.4813Z"
                fill="currentColor"
                fill-rule="nonzero"
              ></path>
              <path
                d="M14 6.3374L23.5188 15.8562C23.5538 15.8905 23.5892 15.9239 23.625 15.9566L23.625 23.1876C23.625 24.3951 22.645 25.3751 21.4375 25.3751L17.5 25.3751C17.2679 25.3751 17.0454 25.2829 16.8813 25.1188C16.7172 24.9547 16.625 24.7321 16.625 24.5001L16.625 19.2501C16.625 19.018 16.5328 18.7954 16.3687 18.6314C16.2046 18.4673 15.9821 18.3751 15.75 18.3751L12.25 18.3751C12.0179 18.3751 11.7954 18.4673 11.6313 18.6314C11.4672 18.7954 11.375 19.018 11.375 19.2501L11.375 24.5001C11.375 24.7321 11.2828 24.9547 11.1187 25.1188C10.9546 25.2829 10.7321 25.3751 10.5 25.3751L6.5625 25.3751C5.98234 25.3751 5.42594 25.1446 5.0157 24.7344C4.60547 24.3241 4.375 23.7677 4.375 23.1876L4.375 15.9566L4.48117 15.8562L14 6.3374Z"
                fill="currentColor"
                fill-rule="nonzero"
              ></path>
            </g>
          </svg>
          <span :class="activeTab === 'home' ? 'text-primary' : 'text-inactive'">Главная</span>
        </button>

        <!-- Кошелек -->
        <button type="button" class="menu-button" @click="navigateWallet">
          <svg
            viewBox="0 0 28 28"
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="none"
            :class="activeTab === 'wallet' ? 'text-primary' : 'text-inactive'"
          >
            <rect
              width="28"
              height="28"
              x="0"
              y="0"
              fill="rgb(255,255,255)"
              fill-opacity="0"
            ></rect>
            <g>
              <path
                d="M24.6167 9.33787C24.5505 9.33398 24.4802 9.33242 24.4055 9.3332L21.4597 9.3332C19.047 9.3332 16.9832 11.2325 16.9832 13.7082C16.9832 16.1839 19.0482 18.0832 21.4597 18.0832L24.4055 18.0832C24.4802 18.084 24.5509 18.0824 24.6178 18.0785C25.1137 18.0486 25.5818 17.8395 25.9349 17.49C26.2879 17.1406 26.5019 16.6747 26.537 16.1792C26.5417 16.1092 26.5417 16.0334 26.5417 15.9634L26.5417 11.453C26.5417 11.383 26.5417 11.3072 26.537 11.2372C26.5019 10.7417 26.2879 10.2758 25.9349 9.92636C25.5818 9.57692 25.1125 9.36777 24.6167 9.33787ZM21.2018 14.8749C21.8225 14.8749 22.3253 14.3522 22.3253 13.7082C22.3253 13.0642 21.8225 12.5415 21.2018 12.5415C20.58 12.5415 20.0772 13.0642 20.0772 13.7082C20.0772 14.3522 20.58 14.8749 21.2018 14.8749Z"
                fill="currentColor"
                fill-rule="evenodd"
              ></path>
              <path
                d="M24.4043 19.8333C24.4446 19.8317 24.4847 19.8396 24.5214 19.8564C24.5581 19.8732 24.5904 19.8985 24.6155 19.9301C24.6406 19.9617 24.6579 19.9987 24.666 20.0383C24.6741 20.0778 24.6728 20.1187 24.6621 20.1577C24.4288 20.9883 24.0566 21.6977 23.4604 22.2927C22.5866 23.1677 21.4794 23.5538 20.1121 23.7382C18.7821 23.9167 17.0846 23.9167 14.9403 23.9167L12.4763 23.9167C10.3319 23.9167 8.63325 23.9167 7.30442 23.7382C5.93709 23.5538 4.82992 23.1665 3.95609 22.2938C3.08342 21.42 2.69609 20.3128 2.51175 18.9455C2.33325 17.6155 2.33325 15.918 2.33325 13.7737L2.33325 13.643C2.33325 11.4987 2.33325 9.8 2.51175 8.47C2.69609 7.10267 3.08342 5.9955 3.95609 5.12167C4.82992 4.249 5.93709 3.86167 7.30442 3.67733C8.63442 3.5 10.3319 3.5 12.4763 3.5L14.9403 3.5C17.0846 3.5 18.7833 3.5 20.1121 3.6785C21.4794 3.86283 22.5866 4.25017 23.4604 5.12283C24.0566 5.72017 24.4288 6.42833 24.6621 7.259C24.6728 7.29793 24.6741 7.33883 24.666 7.37837C24.6579 7.41792 24.6406 7.455 24.6155 7.48659C24.5904 7.51819 24.5581 7.54342 24.5214 7.56023C24.4847 7.57704 24.4446 7.58495 24.4043 7.58333L21.4596 7.58333C18.1498 7.58333 15.2331 10.1967 15.2331 13.7083C15.2331 17.22 18.1498 19.8333 21.4596 19.8333L24.4043 19.8333ZM6.70825 8.16667C6.47619 8.16667 6.25363 8.25885 6.08953 8.42295C5.92544 8.58704 5.83325 8.8096 5.83325 9.04167C5.83325 9.27373 5.92544 9.49629 6.08953 9.66039C6.25363 9.82448 6.47619 9.91667 6.70825 9.91667L11.3749 9.91667C11.607 9.91667 11.8295 9.82448 11.9936 9.66039C12.1577 9.49629 12.2499 9.27373 12.2499 9.04167C12.2499 8.8096 12.1577 8.58704 11.9936 8.42295C11.8295 8.25885 11.607 8.16667 11.3749 8.16667L6.70825 8.16667Z"
                fill="currentColor"
                fill-rule="evenodd"
              ></path>
            </g>
          </svg>
          <span :class="activeTab === 'wallet' ? 'text-primary' : 'text-inactive'">Кошелек</span>
        </button>

        <!-- Кабинет (центральная кнопка) -->
        <button type="button" class="menu-button center-button" @click="navigateCabinet">
          <div class="center-icon">
            <svg
              viewBox="0 0 30 30"
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="none"
              class="text-black"
            >
              <rect width="30" height="30" x="0" y="0"></rect>
              <path
                d="M26.2422 17.335C26.2046 21.2277 25.9774 24.8128 24.6025 26.0352C22.955 27.4996 20.3032 27.5 15 27.5C9.6967 27.5 7.04499 27.4996 5.39746 26.0352C4.02252 24.8129 3.79544 21.2279 3.75781 17.335L10.0137 19.2119C10.1092 20.1276 10.7035 20.9263 11.5713 21.2734L12.4463 21.623C14.0854 22.2787 15.9146 22.2787 17.5537 21.623L18.4287 21.2734C19.2967 20.9262 19.891 20.1268 19.9863 19.2109L26.2422 17.335ZM17.5 15.625C17.8452 15.625 18.125 15.9048 18.125 16.25L18.125 18.9521C18.1249 19.2075 17.9695 19.4373 17.7324 19.5322L16.8574 19.8818C15.6654 20.3587 14.3346 20.3587 13.1426 19.8818L12.2676 19.5322C12.0305 19.4373 11.8751 19.2075 11.875 18.9521L11.875 16.25C11.875 15.9048 12.1548 15.625 12.5 15.625L17.5 15.625ZM16.7998 2.8125C16.9415 2.81248 17.0519 2.81204 17.1562 2.81836C18.4817 2.89867 19.6424 3.7357 20.1377 4.96777C20.1767 5.06488 20.212 5.1701 20.2568 5.30469L20.2607 5.31543C20.365 5.5959 20.6038 5.91512 20.9385 6.16992C20.9757 6.19824 21.0134 6.22482 21.0508 6.25C23.7429 6.25314 25.1486 6.3027 26.1172 7.09082C26.3159 7.25248 26.4975 7.43414 26.6592 7.63281C27.5004 8.66664 27.5 10.1983 27.5 13.2607C27.5 14.0379 27.5 14.4274 27.3115 14.7305C27.2749 14.7894 27.2334 14.8454 27.1875 14.8975C26.9514 15.165 26.579 15.2768 25.835 15.5L20 17.25L20 16.25C20 14.8693 18.8807 13.75 17.5 13.75L12.5 13.75C11.1193 13.75 10 14.8693 10 16.25L10 17.25L4.16504 15.5C3.42097 15.2768 3.04864 15.165 2.8125 14.8975C2.76658 14.8454 2.72514 14.7894 2.68848 14.7305C2.50001 14.4274 2.5 14.0379 2.5 13.2607C2.5 10.1983 2.49963 8.66664 3.34082 7.63281C3.50248 7.43414 3.68414 7.25248 3.88281 7.09082C4.85143 6.3027 6.25712 6.25314 8.94922 6.25C8.98658 6.22482 9.02432 6.19823 9.06152 6.16992C9.39633 5.91508 9.63605 5.59585 9.74023 5.31543C9.78762 5.17328 9.82243 5.06697 9.8623 4.96777C10.3576 3.73564 11.5192 2.89864 12.8447 2.81836C12.9491 2.81206 13.0595 2.81248 13.2012 2.8125L16.7998 2.8125ZM12.958 4.69043C12.3556 4.72692 11.8277 5.10705 11.6025 5.66699C11.5881 5.70287 11.5719 5.7483 11.5234 5.89355L11.5215 5.90137L11.5186 5.91016L11.5146 5.91992L11.5127 5.92773L11.5078 5.94238L11.502 5.95703L11.5 5.96387L11.4961 5.97656L11.4902 5.99121L11.4834 6.00586L11.4785 6.01855L11.4766 6.02344C11.4464 6.10012 11.413 6.17568 11.377 6.25L18.623 6.25C18.5869 6.17542 18.5537 6.09941 18.5234 6.02246L18.5215 6.01855L18.5166 6.00586L18.5098 5.99121L18.5049 5.97559L18.5 5.96387L18.498 5.95703L18.4922 5.94238L18.4873 5.92773L18.4854 5.91992L18.4814 5.91016L18.4785 5.90137L18.4766 5.89355C18.4274 5.74618 18.4126 5.70234 18.3984 5.66699C18.1733 5.10701 17.6454 4.72698 17.043 4.69043C17.0026 4.68799 16.9527 4.6875 16.7734 4.6875L13.2266 4.6875C13.0479 4.6875 12.9983 4.68801 12.958 4.69043Z"
                fill="currentColor"
                fill-rule="nonzero"
              ></path>
            </svg>
          </div>
          <span class="center-label">Кабинет</span>
        </button>

        <!-- Друзья -->
        <button type="button" class="menu-button" @click="navigateFriends">
          <svg
            width="29"
            height="28"
            viewBox="0 0 29 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            :class="activeTab === 'friends' ? 'text-primary' : 'text-inactive'"
          >
            <g clip-path="url(#clip0_3021_1139)">
              <mask
                id="mask0_3021_1139"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="29"
                height="28"
                style="mask-type: luminance"
              >
                <path d="M28.396 0H0.395996V28H28.396V0Z" fill="white"></path>
              </mask>
              <g mask="url(#mask0_3021_1139)">
                <path
                  d="M10.8959 2.33325C7.83925 2.33325 5.35425 4.81825 5.35425 7.87492C5.35425 10.8733 7.69925 13.2999 10.7559 13.4049C10.8492 13.3933 10.9426 13.3933 11.0126 13.4049C11.0359 13.4049 11.0476 13.4049 11.0709 13.4049C11.0826 13.4049 11.0826 13.4049 11.0942 13.4049C14.0809 13.2999 16.4259 10.8733 16.4376 7.87492C16.4376 4.81825 13.9526 2.33325 10.8959 2.33325Z"
                  fill="currentColor"
                ></path>
                <path
                  d="M16.8226 16.5081C13.5676 14.3381 8.25928 14.3381 4.98095 16.5081C3.49928 17.4998 2.68262 18.8414 2.68262 20.2764C2.68262 21.7114 3.49928 23.0414 4.96928 24.0214C6.60262 25.1181 8.74928 25.6664 10.896 25.6664C13.0426 25.6664 15.1893 25.1181 16.8226 24.0214C18.2926 23.0298 19.1093 21.6998 19.1093 20.2531C19.0976 18.8181 18.2926 17.4881 16.8226 16.5081Z"
                  fill="currentColor"
                ></path>
                <path
                  d="M23.7177 8.56337C23.9043 10.8267 22.2943 12.81 20.066 13.0784C20.0543 13.0784 20.0543 13.0784 20.0427 13.0784H20.0077C19.9377 13.0784 19.8677 13.0784 19.8093 13.1017C18.6777 13.16 17.6393 12.7984 16.8577 12.1334C18.0593 11.06 18.7477 9.45004 18.6077 7.70004C18.526 6.75504 18.1993 5.8917 17.7093 5.1567C18.1527 4.93504 18.666 4.79504 19.191 4.74837C21.4777 4.55004 23.5193 6.25337 23.7177 8.56337Z"
                  fill="currentColor"
                ></path>
                <path
                  d="M26.0509 19.3554C25.9575 20.487 25.2342 21.467 24.0209 22.132C22.8542 22.7737 21.3842 23.077 19.9259 23.042C20.7659 22.2837 21.2559 21.3387 21.3492 20.3354C21.4659 18.8887 20.7775 17.5004 19.4009 16.392C18.6192 15.7737 17.7092 15.2837 16.7175 14.922C19.2959 14.1754 22.5392 14.677 24.5342 16.287C25.6075 17.1504 26.1559 18.2354 26.0509 19.3554Z"
                  fill="currentColor"
                ></path>
              </g>
            </g>
            <defs>
              <clipPath id="clip0_3021_1139">
                <rect width="28" height="28" fill="white" transform="translate(0.395996)"></rect>
              </clipPath>
            </defs>
          </svg>
          <span :class="activeTab === 'friends' ? 'text-primary' : 'text-inactive'">Друзья</span>
        </button>

        <!-- Профиль -->
        <button type="button" class="menu-button" @click="navigateProfile">
          <svg
            viewBox="0 0 35 35"
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            fill="none"
            :class="activeTab === 'profile' ? 'text-primary' : 'text-inactive'"
          >
            <rect
              width="35"
              height="35"
              x="0"
              y="0"
              fill="rgb(255,255,255)"
              fill-opacity="0"
            ></rect>
            <path
              d="M17.4998 5.46875C16.0494 5.46875 14.6584 6.04492 13.6328 7.07051C12.6073 8.0961 12.0311 9.4871 12.0311 10.9375C12.0311 12.3879 12.6073 13.7789 13.6328 14.8045C14.6584 15.8301 16.0494 16.4062 17.4998 16.4062C18.9502 16.4062 20.3412 15.8301 21.3668 14.8045C22.3924 13.7789 22.9686 12.3879 22.9686 10.9375C22.9686 9.4871 22.3924 8.0961 21.3668 7.07051C20.3412 6.04492 18.9502 5.46875 17.4998 5.46875ZM11.6665 19.3229C10.2161 19.3229 8.8251 19.8991 7.79951 20.9247C6.77392 21.9503 6.19775 23.3413 6.19775 24.7917L6.19775 26.5242C6.19775 27.6237 6.994 28.56 8.079 28.7365C14.3178 29.7558 20.6819 29.7558 26.9207 28.7365C27.4454 28.6501 27.9225 28.3804 28.267 27.9753C28.6115 27.5702 28.801 27.056 28.8019 26.5242L28.8019 24.7917C28.8019 23.3413 28.2258 21.9503 27.2002 20.9247C26.1746 19.8991 24.7836 19.3229 23.3332 19.3229L22.8373 19.3229C22.5651 19.3239 22.3007 19.3657 22.044 19.4483L20.7811 19.861C18.649 20.5571 16.3507 20.5571 14.2186 19.861L12.9557 19.4483C12.6997 19.3662 12.4326 19.3239 12.1638 19.3229L11.6665 19.3229Z"
              fill="currentColor"
              fill-rule="nonzero"
            ></path>
          </svg>
          <span :class="activeTab === 'profile' ? 'text-primary' : 'text-inactive'" class="profile-label">Профиль</span>
        </button>
      </div>
    </div>
  </nav>
</template>

<script setup>
import { ref } from 'vue'

const activeTab = ref('home')

const navigateHome = () => {
  activeTab.value = 'home'
  console.log('Navigate to Home')
}

const navigateWallet = () => {
  activeTab.value = 'wallet'
  console.log('Navigate to Wallet')
}

const navigateCabinet = () => {
  activeTab.value = 'cabinet'
  console.log('Navigate to Cabinet')
}

const navigateFriends = () => {
  activeTab.value = 'friends'
  console.log('Navigate to Friends')
}

const navigateProfile = () => {
  activeTab.value = 'profile'
  console.log('Navigate to Profile')
}
</script>

<style scoped>
@font-face {
  font-family: 'TTCommons';
  src: url('/font/TTCommons-Regular-ClstCj-k.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: 'TTCommons';
  src: url('/font/TTCommons-Medium-DHgsE3TE.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
}

@font-face {
  font-family: 'TTCommons';
  src: url('/font/TTCommons-Bold-DVcClD20.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
}

/* Основные стили меню */
.bottom-menu {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 50;
  background: rgba(11, 12, 13, 0.95);
  border-top: 1px solid #202123;
  backdrop-filter: blur(16px);
  padding-top: 12px;
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
}

@supports (backdrop-filter: blur(16px)) {
  .bottom-menu {
    background: rgba(11, 12, 13, 0.8);
  }
}

.menu-container {
  margin: 0 auto;
  width: 100%;
  padding: 0 8px;
}

.menu-grid {
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  align-items: center;
  gap: 4px;
}

.menu-button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 8px 4px;
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'TTCommons', system-ui, -apple-system, sans-serif;
}

.menu-button:focus {
  outline: none;
}

.menu-button svg {
  width: 28px;
  height: 28px;
  transition: color 0.2s ease;
}

.menu-button span {
  font-size: 12px;
  font-weight: 400;
  transition: color 0.2s ease;
  text-align: center;
  line-height: 1.2;
}

/* Центральная кнопка */
.center-button {
  margin-top: -32px;
  position: relative;
}

.center-icon {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #9FA5AD;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 4px;
}

.center-icon svg {
  width: 30px;
  height: 30px;
  color: #000000;
}

.center-label {
  font-size: 12px;
  color: #9EA5AD;
  transform: translateY(6px);
}

.profile-label {
  transform: translateY(-3px);
}

/* Цветовые схемы */
.text-primary {
  color: #8EF804;
}

.text-inactive {
  color: #9EA5AD;
}

/* Адаптивность */
@media (max-width: 480px) {
  .menu-container {
    padding: 0 4px;
  }
  
  .menu-button {
    padding: 6px 2px;
  }
  
  .menu-button span {
    font-size: 11px;
  }
  
  .center-icon {
    width: 45px;
    height: 45px;
  }
  
  .center-icon svg {
    width: 26px;
    height: 26px;
  }
}

@media (max-width: 360px) {
  .menu-button span {
    font-size: 10px;
  }
  
  .center-icon {
    width: 42px;
    height: 42px;
  }
  
  .center-icon svg {
    width: 24px;
    height: 24px;
  }
}
</style>

